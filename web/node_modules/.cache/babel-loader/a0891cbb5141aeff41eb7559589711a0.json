{"ast":null,"code":"var _jsxFileName = \"/Users/mb/Projects/personal/project-leroy/web/src/App.jsx\";\n\n/* eslint-disable no-unused-expressions */\nimport React, { useEffect, useState } from 'react';\nimport { makeStyles, createStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Container from '@material-ui/core/Container';\nimport BirdCard from './BirdCard';\nimport Slideshow from './Slideshow';\nimport './App.css';\nconst useStyles = makeStyles(theme => createStyles({\n  card: {\n    maxWidth: 345,\n    [theme.breakpoints.down('xs')]: {\n      maxWidth: 'none',\n      width: '100%'\n    }\n  },\n  media: {\n    height: 250,\n    backgroundPosition: 'top'\n  },\n  container: {\n    marginTop: 80,\n    [theme.breakpoints.down('xs')]: {\n      marginTop: 60\n    }\n  }\n}));\nexport default function MediaCard() {\n  const classes = useStyles();\n  const [items, setItems] = useState([]);\n  const [error, setError] = useState(null);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const path = window.location.href.includes(\"10.0.0.23\") ? \"\" : \"http://10.0.0.23\";\n  const urlSearchParams = new URLSearchParams(window.location.search);\n  const mode = urlSearchParams.get('mode'); // Note: the empty deps array [] means\n  // this useEffect will run once\n  // similar to componentDidMount()\n\n  let getBirds = () => {\n    fetch(`${path}/visitations.json`).then(res => res.json()).then(items => {\n      setIsLoaded(true);\n\n      if (items.length > 0) {\n        setItems(items);\n      }\n    }, // Note: it's important to handle errors here\n    // instead of a catch() block so that we don't swallow\n    // exceptions from actual bugs in components.\n    error => {\n      setIsLoaded(true);\n      setError(error);\n    });\n  };\n\n  useEffect(() => {\n    getBirds();\n    setInterval(getBirds, 60000);\n  }, []);\n  return mode === 'slideshow' ? /*#__PURE__*/React.createElement(Slideshow, {\n    items: items,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 28\n    }\n  }) : /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    direction: \"row\",\n    spacing: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 58\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(AppBar, {\n    position: \"fixed\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Toolbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, \"Project Leroy\")))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    className: classes.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }, items.map((visit, index) => {\n    return /*#__PURE__*/React.createElement(BirdCard, {\n      key: index,\n      visit: visit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 24\n      }\n    });\n  })))));\n}","map":{"version":3,"sources":["/Users/mb/Projects/personal/project-leroy/web/src/App.jsx"],"names":["React","useEffect","useState","makeStyles","createStyles","Typography","Grid","AppBar","Toolbar","Container","BirdCard","Slideshow","useStyles","theme","card","maxWidth","breakpoints","down","width","media","height","backgroundPosition","container","marginTop","MediaCard","classes","items","setItems","error","setError","isLoaded","setIsLoaded","path","window","location","href","includes","urlSearchParams","URLSearchParams","search","mode","get","getBirds","fetch","then","res","json","length","setInterval","map","visit","index"],"mappings":"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","sourcesContent":["/* eslint-disable no-unused-expressions */\nimport React, { useEffect, useState } from 'react';\nimport { makeStyles, createStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Container from '@material-ui/core/Container';\nimport BirdCard from './BirdCard';\nimport Slideshow from './Slideshow';\nimport './App.css';\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    card: {\n      maxWidth: 345,\n      [theme.breakpoints.down('xs')]: {\n        maxWidth: 'none',\n        width: '100%'\n      }\n    },\n    media: {\n      height: 250,\n      backgroundPosition: 'top'\n    },\n    container: {\n      marginTop: 80,\n      [theme.breakpoints.down('xs')]: {\n        marginTop: 60,\n      }\n    }\n  })\n);\n\nexport default function MediaCard() {\n  const classes = useStyles();\n  const [items, setItems] = useState([]);\n  const [error, setError] = useState(null);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const path = window.location.href.includes(\"10.0.0.23\") ? \"\" : \"http://10.0.0.23\";\n  const urlSearchParams = new URLSearchParams(window.location.search);\n  const mode = urlSearchParams.get('mode');\n\n  // Note: the empty deps array [] means\n  // this useEffect will run once\n  // similar to componentDidMount()\n\n  let getBirds = () => {\n    fetch(`${path}/visitations.json`)\n      .then(res => res.json())\n      .then(\n        (items) => {\n          setIsLoaded(true);\n          if (items.length > 0) {\n            setItems(items);\n          }\n        },\n        // Note: it's important to handle errors here\n        // instead of a catch() block so that we don't swallow\n        // exceptions from actual bugs in components.\n        (error) => {\n          setIsLoaded(true);\n          setError(error);\n        }\n      )\n  }\n\n  useEffect(() => {\n    getBirds();\n    setInterval(getBirds, 60000);\n  }, [])\n\n  return (\n    mode === 'slideshow' ? <Slideshow items={items} /> : <Grid container direction=\"row\" spacing={1}>\n      <Grid item xs={12}>\n        <AppBar position=\"fixed\">\n          <Toolbar>\n            <Typography variant=\"h6\">\n              Project Leroy\n            </Typography>\n          </Toolbar>\n        </AppBar>\n      </Grid>\n      <Grid item xs={12}>\n        <Container className={classes.container}>\n          <Grid container spacing={3}>\n            {\n              items.map((visit, index) => {\n                return <BirdCard key={index} visit={visit} />\n              })\n            }\n          </Grid>\n        </Container>\n      </Grid>\n    </Grid>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}