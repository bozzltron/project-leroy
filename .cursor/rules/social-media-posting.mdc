---
description: Social media posting rules and guidelines for Project Leroy
alwaysApply: false
tags:
  - social-media
  - bluesky
  - posting
  - automation
---

# Social Media Posting Rules

## Platform: Bluesky

**Primary Platform**: Bluesky (atproto)
**Optional**: Only posts if authenticated, otherwise silently ignores

---

## Posting Rules

### 1. Frequency Regulation

**Maximum Posts Per Day**: 1 post
- Single daily summary of all visitations
- Prevents spam/overwhelming followers
- Ensures quality over quantity

**Posting Time**: Evening (7:00 PM - 9:00 PM local time)
- Aligns with Bluesky peak engagement (7-9 PM)
- Captures full day's activity (birds most active morning & afternoon)
- Allows time to process all visitations before posting

### 2. Daily Summary Post

**Format**: Single daily summary with 5 best photos

**Content**:
- Total visitations for the day
- Species count and list
- 5 best photos (varying species, high clarity)
- Brief summary text

**Photo Selection Criteria**:
- High clarity scores (focus quality)
- High classification confidence (>80%)
- Species diversity (ensure different species represented)
- Best composition (bird clearly visible)
- Representative of day's activity

**Timing**: Once per day, evening (7:00 PM - 9:00 PM)
- After birds' peak feeding times (early morning, late afternoon)
- Captures full day's activity
- Aligns with Bluesky user engagement peaks

**Example**:
```
Today I was visited 12 times by 5 different species:
- 4 American Robins
- 3 House Finches
- 2 Northern Cardinals
- 2 Blue Jays
- 1 Downy Woodpecker

Highlights: [5 best photos with varying species]
```

### 3. Posting Time Rationale

**Why Evening (7-9 PM)**:
- **Bird Activity**: Birds are most active early morning (6-10 AM) and late afternoon (4-7 PM)
- **Full Day Capture**: Evening posting captures all day's activity
- **Bluesky Engagement**: Peak user engagement 7-9 PM
- **Processing Time**: Allows time to classify and process all visitations

**Bird Feeding Patterns**:
- **Early Morning** (6-10 AM): Peak feeding activity
- **Mid-Day** (10 AM - 2 PM): Lower activity, resting
- **Late Afternoon** (4-7 PM): Second peak feeding activity
- **Evening** (7-9 PM): Posting time - captures full day

### 4. Authentication & Error Handling

**Authentication**:
- Must authenticate with Bluesky before posting
- If authentication fails, silently ignore (don't crash)
- Log authentication failures for debugging

**Error Handling**:
- Network errors: Log and retry once (with backoff)
- Rate limiting: Respect rate limits, wait before retry
- Invalid content: Log error, skip post
- Never crash the main detection service

---

## Implementation

### Configuration

**Environment Variables**:
- `BLUESKY_HANDLE`: Bluesky handle (e.g., `@leroy.bsky.social`)
- `BLUESKY_APP_PASSWORD`: App password for authentication
- `BLUESKY_ENABLED`: `true`/`false` to enable/disable posting

**Default**: Disabled (must explicitly enable)

### Posting Module

**File**: `bluesky_poster.py`

**Functions**:
- `authenticate()`: Authenticate with Bluesky
- `post_text(text)`: Post text-only post
- `post_with_image(text, image_path)`: Post with image
- `can_post()`: Check if posting is allowed (frequency, time window)
- `get_daily_summary(visitations)`: Generate daily summary text

### Integration Points

**Daily Summary**: Called from `visitation.py` after processing daily visitations

**Individual Posts**: Called from `visitation.py` for special visitations (optional)

---

## Content Guidelines

### Text Format

**Keep it Natural**:
- Use first-person voice ("I was visited...")
- Keep it brief and engaging
- Include relevant details (species, count, time)

**Hashtags** (Optional):
- `#BirdWatching`
- `#BackyardBirds`
- `#WildlifePhotography`
- `#AI`

### Image Selection

**Criteria for "Image of the Day"**:
- Highest clarity score
- High classification confidence (>85%)
- Good composition (bird clearly visible)
- Representative of the day's visitations

**Image Quality**:
- Use best photo from visitation
- Ensure proper sizing for Bluesky (max dimensions)
- Compress if needed for upload

---

## Privacy & Ethics

### Data Sharing

- Only share aggregated data (species, counts, times)
- No location data (unless explicitly configured)
- No personal information

### Wildlife Ethics

- Respect wildlife (don't disturb for photos)
- Follow local wildlife regulations
- Don't share exact nest locations
- Be mindful of sensitive species

---

## Monitoring

### Logging

- Log all posting attempts (success/failure)
- Log authentication status
- Log rate limit hits
- Monitor posting frequency

### Metrics

- Posts per day
- Engagement (if API supports)
- Error rate
- Authentication failures

---

## Future Enhancements

### Potential Features

- Scheduled posting (queue posts)
- A/B testing (different post formats)
- Analytics integration
- Multi-platform support (if needed)

---

## Related Rules

- `@architecture.mdc` - System architecture
- `@project-leroy-technical-guidelines.mdc` - Technical standards
